Fraction=function(){var a=function(a,b){if(typeof a!==b)throw"It should be a "+b+": "+a;return a},b=function(b){return a(b,"number")},c=function(a){if(b(a),a%1!==0)throw"It should be an int: "+a;return a},d=function(a,b,d){if(!d){if(c(a),c(b),0===b)throw"The denominator must not be zero";0>b&&(a=-a,b=-b)}this.numerator=a,this.denominator=b,this.normalize()};return d.prototype.value=function(){return this.numerator/this.denominator},d.prototype.clone=function(){return new d(this.numerator,this.denominator,!0)},d.prototype.inverse=function(){return new d(this.denominator,this.numerator)},d.prototype.toString=function(){return this.numerator+"/"+this.denominator},d.prototype.toTeX=function(a){var b="";this.numerator<0!=this.denominator<0&&(b="-");var c=Math.abs(this.numerator),d=Math.abs(this.denominator);if(!a)return 1===d?b+c:b+"\\frac{"+c+"}{"+d+"}";var e=Math.floor(c/d);return c%=d,0!==e&&(b+=e),0!==c&&(b+="\\frac{"+c+"}{"+d+"}"),b.length>0?b:"0"},d.prototype.rescale=function(a){return this.numerator*=a,this.denominator*=a,this},d.prototype.add=function(a){var b=this.clone();if(!(a instanceof d))throw"must be a Fraction: "+a;var c=b.denominator;return b.rescale(a.denominator),b.numerator+=a.numerator*c,b.normalize()},d.prototype.subtract=function(a){var b=this.clone();if(!(a instanceof d))throw"must be a Fraction: "+a;var c=b.denominator;return b.rescale(a.denominator),b.numerator-=a.numerator*c,b.normalize()},d.prototype.multiply=function(a){var b=this.clone();return b.numerator*=a.numerator,b.denominator*=a.denominator,b.normalize()},d.prototype.divide=function(a){if(!(a instanceof d))throw"must be a Fraction: "+a;var b=this.clone();return b.numerator*=a.denominator,b.denominator*=a.numerator,b.normalize()},d.prototype.mod=function(a){c(a);var b=this.clone();return b.numerator%=a*b.denominator,b.normalize()},d.prototype.equals=function(a){return a instanceof d?this.numerator===a.numerator&&this.denominator===a.denominator:!1},d.prototype.compareTo=function(a){if(!(a instanceof d))throw"must be a Fraction: "+a;if(this===a||this.equals(a))return 0;var b=this.numerator*a.denominator,c=a.numerator*this.denominator;return b==c?0:c>b?-1:1},d.prototype.normalize=function(){var a=d.gcf(this.numerator,this.denominator);return this.numerator/=a,this.denominator/=a,this.denominator<0&&(this.numerator*=-1,this.denominator*=-1),this},d.gcf=function(a,b){if(arguments.length<2)return a;var c;for(a=Math.abs(a),b=Math.abs(b);b;)c=a%b,a=b,b=c;return a},d.parse=function(a){var b=a.split("/"),c=parseInt(b[0].trim(),10);if(isNaN(c))throw"can't parse: "+a;if(1===b.length)return new d(c,1);var e=parseInt(b[1].trim(),10);if(isNaN(c))throw"can't parse: "+a;return new d(c,e)},d.ZERO=new d(0,1),d.ONE=new d(1,1),d}();